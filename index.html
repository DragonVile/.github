<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DragonVileMC | BedWars & PvP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Primary Meta -->
  <meta name="title" content="DragonVileMC | BedWars & PvP Server">
  <meta name="description" content="DragonVileMC: A competitive Minecraft BedWars & PvP server with live status, community events, and more.">

  <!-- Discord / Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://dv.now.ct.ws">
  <meta property="og:title" content="DragonVileMC | BedWars & PvP Server">
  <meta property="og:description" content="Check live server status, connect instantly and join the fun!">
  <meta property="og:image" content="https://dragonvile.gt.tc/banner.png">

  <!-- Twitter/X -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="DragonVileMC | BedWars & PvP Server">
  <meta name="twitter:description" content="Check live server status, connect instantly and join the fun!">
  <meta name="twitter:image" content="https://dragonvile.gt.tc/banner.png">

  <!-- Fonts -->
  <link href="https://fonts.cdnfonts.com/css/poppins" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
      background: radial-gradient(circle at top, #1b0038, #0a0a12);
      color: #fff;
      line-height: 1.6;
    }

    nav {
      position: sticky;
      top: 0;
      background: rgba(10,10,18,0.85);
      backdrop-filter: blur(10px);
      padding: 12px 20px;
      border-bottom: 1px solid rgba(255,255,255,0.08);
      z-index: 100;
    }

    .nav-links a {
      margin-left: 22px;
      text-decoration: none;
      color: #fff;
      opacity: 0.85;
      transition: 0.3s;
    }

    .nav-links a:hover {
      opacity: 1;
      color: #b084ff;
    }

    header {
      text-align: center;
      padding: 80px 20px;
    }

    header img {
      max-width: 360px;
      margin-bottom: 25px;
    }

    .ip-box {
      margin-top: 30px;
      display: inline-block;
      background: linear-gradient(135deg, #7a2cff, #b084ff);
      padding: 15px 30px;
      border-radius: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 12px 35px rgba(122,44,255,0.4);
      transition: 0.3s;
    }

    .ip-box:hover {
      transform: scale(1.05);
    }

    #status-box {
      background: rgba(255,255,255,0.08);
      padding: 24px;
      border-radius: 16px;
      text-align: center;
      max-width: 450px;
      margin: 30px auto;
      border: 1px solid rgba(255,255,255,0.10);
    }

    section {
      max-width: 1150px;
      margin: auto;
      padding: 60px 20px;
    }
  </style>
</head>
<body>

<nav>
  <div class="nav-links">
    <a href="#features">Features</a>
    <a href="#status">Status</a>
    <a href="#faq">FAQ</a>
    <a href="#changelog">Changelog</a>
    <a href="https://discord.gg/VJAKqwhwK6" target="_blank">Discord</a>
  </div>
</nav>

<header>
  <img src="https://dragonvile.gt.tc/banner.png" alt="DragonVileMC Banner">
  <h1>DragonVileMC</h1>
  <p>Competitive Minecraft <b>BedWars & PvP</b> server with live status and community features.</p>

  <div class="ip-box" onclick="copyIP()">
    IP: 170.64.251.196:9999<br><small>(Click to copy)</small>
  </div>
</header>

<section id="status">
  <div id="status-box">
    <h3>Checking server status...</h3>
    <p id="status-text">Please wait...</p>
    <p id="players-text"></p>
    <p id="version-text"></p>
    <small>Last checked: <span id="status-time"></span></small>
  </div>
</section>

<section id="features">
  <!-- features here -->
</section>

<script>
  function copyIP() {
    navigator.clipboard.writeText("170.64.251.196:9999");
    alert("Server IP copied!");
  }

  async function fetchServerStatus() {
    try {
      const response = await fetch(
        "https://api.mcsrvstat.us/3/170.64.251.196:9999"
      );
      const data = await response.json();
      const now = new Date().toLocaleTimeString();

      if (data.online) {
        document.getElementById('status-text').textContent = "Server is Online";
        document.getElementById('players-text').textContent =
          `Players: ${data.players.online ?? 0}/${data.players.max ?? "?"}`;
        document.getElementById('version-text').textContent =
          `Version: ${data.version ?? "Unknown"}`;
      } else {
        document.getElementById('status-text').textContent = "Server is Offline";
        document.getElementById('players-text').textContent = '';
        document.getElementById('version-text').textContent = '';
      }
      document.getElementById('status-time').textContent = now;
    } catch (e) {
      document.getElementById('status-text').textContent = "Error retrieving status";
      document.getElementById('players-text').textContent = "";
      document.getElementById('version-text').textContent = "";
      document.getElementById('status-time').textContent = "";
    }
  }

  fetchServerStatus();
  setInterval(fetchServerStatus, 30000); // refresh every 30s
</script>

</body>
</html>
